export const metadata = {
  title: "Bytes In, Bytes Out • Stylus by Example",
  description:
    "A simple bytes in, bytes out Arbitrum Stylus Rust contract that shows a minimal `entrypoint` function.",
};

{/* Begin Content */}

# Bytes In, Bytes Out

This is a simple bytes in, bytes out contract that shows a minimal `entrypoint` function (denoted by the `#[entrypoint]` proc macro). If your smart contract just has one primary function, like computing a cryptographic hash, this can be a great model because it strips out the SDK and acts like a pure function or Unix-style app.

### src/main.rs

```rust
#![no_main]
#![no_std]
extern crate alloc;

#[global_allocator]
static ALLOC: mini_alloc::MiniAlloc = mini_alloc::MiniAlloc::INIT;

use alloc::vec::Vec;

use stylus_sdk::stylus_proc::entrypoint;

#[panic_handler]
fn panic(_info: &core::panic::PanicInfo) -> ! {
    loop {}
}

#[entrypoint]
fn user_main(input: Vec<u8>) -> Result<Vec<u8>, Vec<u8>> {
    Ok(input)
}
```

### Cargo.toml

```toml
[package]
name = "bytes_in_bytes_out"
version = "0.1.0"
edition = "2021"

[dependencies]
stylus-sdk = "0.5.1"
mini-alloc = "0.4.2"

[features]
export-abi = ["stylus-sdk/export-abi"]

[lib]
crate-type = ["lib", "cdylib"]

[profile.release]
codegen-units = 1
strip = true
lto = true
panic = "abort"
opt-level = "s"

[workspace]
```

## Interacting With the Contract
As we did before in [Using the CLI](/getting_started/using_the_cli) we can deploy this contract to our local development node by running
```bash
❯ cargo stylus deploy -e http://localhost:8547 --private-key 0xb6b15c8cb491557369f3c7d2c287b053eb229daa9c22138887752191c9520659
```

We can call the `user_main` function with
```bash
❯ cast call --rpc-url 'http://localhost:8547' <deployed_address> "userMain(uint8[])" "[0x12, 0x34, 0x45]"
```

which should output
```bash
0x38363d3f00000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000000000000000000000000000001200000000000000000000000000000000000000000000000000000000000000340000000000000000000000000000000000000000000000000000000000000045
```

![Gravity Falls meme of Dipper holding useless hex output](/gravity_falls_hex_meme.jpg)

we can make this hex output human readable using
```bash
❯ cast calldata-decode "userMain(uint8[])" \
0x38363d3f00000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000000000000000000000000000001200000000000000000000000000000000000000000000000000000000000000340000000000000000000000000000000000000000000000000000000000000045
```

which will output the decimal representation of our initial arguments
```bash
[18, 52, 69]
```
